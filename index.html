<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aura Moda USA</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Top bar -->
  <div class="topbar">
    <div class="topbar__inner">
      <span>ðŸ‡ºðŸ‡¸ SelecciÃ³n original â€¢ ðŸ‡¨ðŸ‡· Entrega en Costa Rica</span>
      <a class="topbar__link" href="https://wa.me/TU_NUMERO" target="_blank" rel="noopener">WhatsApp</a>
    </div>
  </div>

  <!-- Header -->
  <header class="hero">
    <div class="hero__content">

      <div class="brand">
        <div class="brand__logo">
          <img src="images/logo.jpeg" alt="Aura Moda USA Logo" />
        </div>

        <div class="brand__text">
          <h1 class="brand__name">Aura Moda USA</h1>
          <p class="brand__tag">Marcas originales seleccionadas en USA â€¢ Entrega inmediata en Costa Rica</p>

          <div class="hero__cta">
            <a class="btn btn--primary" href="#catalogo">Ver catÃ¡logo</a>
            <a class="btn btn--ghost" href="LINK_A_TU_GOOGLE_FORM" target="_blank" rel="noopener">Hacer encargo</a>
          </div>
        </div>
      </div>

      <div class="hero__meta">
        <div class="meta-card">
          <div class="meta-title">Entrega</div>
          <div class="meta-value">Coordinada / MensajerÃ­a</div>
        </div>
        <div class="meta-card">
          <div class="meta-title">Origen</div>
          <div class="meta-value">Compras en USA</div>
        </div>
        <div class="meta-card">
          <div class="meta-title">Reservas</div>
          <div class="meta-value">WhatsApp</div>
        </div>
      </div>

    </div>
  </header>

  <!-- Catalog -->
  <main class="container" id="catalogo">

    <section class="section-head">
      <div class="section-head__row">
        <div>
          <h2>Productos disponibles</h2>
          <p>ArtÃ­culos originales traÃ­dos desde Estados Unidos. Entrega inmediata en Costa Rica.</p>
          <p class="trustline">âœ… 100% originales â€¢ ðŸ§¾ Foto/etiqueta disponible â€¢ ðŸšš Entrega coordinada</p>
        </div>

        <div class="stock-pill" id="stockPill" title="Disponibles en este momento">
          <span class="stock-pill__dot"></span>
          <span><b id="stockCount">0</b> disponibles</span>
        </div>
      </div>
    </section>

    <!-- Filters -->
    <section class="filters">
      <button class="chip active" data-filter="all">Todo</button>
      <button class="chip" data-filter="bolsos">Bolsos</button>
      <button class="chip" data-filter="carteras">Carteras</button>
      <button class="chip" data-filter="accesorios">Accesorios</button>
      <button class="chip" data-filter="zapatos">Zapatos</button>
      <button class="chip" data-filter="ropa">Ropa</button>
    </section>

    <!-- Products Grid -->
    <section class="grid" id="grid">

      <!-- PRODUCTO 1 -->
      <article class="card"
        data-category="bolsos"
        data-name="Bolso Tommy Hilfiger"
        data-price="59000"
        data-oldprice="69000"
        data-stock="1"
        data-img="images/bolso_azul_tommy_1-O.webp"
        data-desc="Color: Azul â€¢ TamaÃ±o: Mediano"
      >
        <div class="card__media">
          <img src="images/bolso_azul_tommy_1-O.webp" alt="Bolso Tommy Hilfiger">
          <span class="badge badge--ok">Disponible</span>
          <span class="badge badge--lastunit" hidden>Ãšltima unidad</span>
        </div>

        <div class="card__body">
          <div class="card__title">Bolso Tommy Hilfiger</div>
          <div class="card__sub">Color: Azul â€¢ TamaÃ±o: Mediano</div>

          <div class="price">
            <span class="price__now">â‚¡59,000</span>
            <span class="price__old">â‚¡69,000</span>
            <span class="price__chip" data-discount></span>
          </div>

          <button class="btn btn--primary btn--full btn-open">Ver detalles</button>
        </div>
      </article>

      <!-- PRODUCTO 2 -->
      <article class="card"
        data-category="bolsos"
        data-name="Bolso Steve Madden"
        data-price="59000"
        data-oldprice=""
        data-stock="3"
        data-img="images/bolso_steve_maiden_negro.jpg"
        data-desc="Color: Negro â€¢ TamaÃ±o: Mediano"
      >
        <div class="card__media">
          <img src="images/bolso_steve_maiden_negro.jpg" alt="Bolso Steve Madden">
          <span class="badge badge--ok">Disponible</span>
          <span class="badge badge--lastunit" hidden>Ãšltima unidad</span>
        </div>

        <div class="card__body">
          <div class="card__title">Bolso Steve Madden</div>
          <div class="card__sub">Color: Negro â€¢ TamaÃ±o: Mediano</div>

          <div class="price">
            <span class="price__now">â‚¡59,000</span>
            <span class="price__old" hidden></span>
            <span class="price__chip" data-discount hidden></span>
          </div>

          <button class="btn btn--primary btn--full btn-open">Ver detalles</button>
        </div>
      </article>

      <!-- PRODUCTO 3 (Vendido por stock=0) -->
      <article class="card"
        data-category="zapatos"
        data-name="Tenis Steve Madden"
        data-price="65000"
        data-oldprice="75000"
        data-stock="0"
        data-img="images/Tenis_steve_maiden.webp"
        data-desc="Color: Blanco â€¢ Talla: US 10"
      >
        <div class="card__media">
          <img src="images/Tenis_steve_maiden.webp" alt="Tenis Steve Madden">
          <span class="badge badge--sold">Vendido</span>
          <span class="badge badge--lastunit" hidden>Ãšltima unidad</span>
        </div>

        <div class="card__body">
          <div class="card__title">Tenis Steve Madden</div>
          <div class="card__sub">Color: Blanco â€¢ Talla: US 10</div>

          <div class="price">
            <span class="price__now">â‚¡65,000</span>
            <span class="price__old">â‚¡75,000</span>
            <span class="price__chip" data-discount></span>
          </div>

          <button class="btn btn--disabled btn--full" disabled>No disponible</button>
        </div>
      </article>

    </section>

    <!-- Callout -->
    <section class="callout">
      <div>
        <h3>Â¿Buscas algo especÃ­fico?</h3>
        <p>Haz tu encargo personalizado y te cotizamos por WhatsApp.</p>
      </div>
      <a class="btn btn--gold" href="LINK_A_TU_GOOGLE_FORM" target="_blank" rel="noopener">
        Hacer encargo
      </a>
    </section>

  </main>

  <!-- WhatsApp floating -->
  <a class="whatsapp-float" href="https://wa.me/TU_NUMERO" target="_blank" rel="noopener">
    WhatsApp
  </a>

  <footer class="footer">
    Â© 2026 Aura Moda USA â€¢ Marcas originales seleccionadas en Estados Unidos
  </footer>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal__overlay" id="modalOverlay"></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal__close" id="modalClose" aria-label="Cerrar">âœ•</button>

      <div class="modal__grid">
        <div class="modal__imgwrap">
          <img id="modalImg" src="" alt="" />
        </div>

        <div class="modal__info">
          <h3 id="modalTitle" class="modal__title"></h3>
          <p id="modalDesc" class="modal__desc"></p>

          <div class="modal__price">
            <span class="modal__now" id="modalNow"></span>
            <span class="modal__old" id="modalOld"></span>
            <span class="modal__chip" id="modalChip"></span>
          </div>

          <div class="modal__stock" id="modalStock"></div>

          <div class="modal__actions">
            <a class="btn btn--primary" id="modalWa" href="#" target="_blank" rel="noopener">Reservar por WhatsApp</a>
            <a class="btn btn--ghost" href="LINK_A_TU_GOOGLE_FORM" target="_blank" rel="noopener">Hacer encargo</a>
          </div>

          <p class="modal__note">Nota: disponibilidad sujeta a inventario. Reservas por WhatsApp.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ========= Helpers =========
    const formatCRC = (n) => {
      const num = Number(n || 0);
      return "â‚¡" + num.toLocaleString("es-CR");
    };

    const discountPct = (now, old) => {
      const n = Number(now), o = Number(old);
      if (!o || o <= n) return "";
      const pct = Math.round((1 - (n / o)) * 100);
      return pct > 0 ? `-${pct}%` : "";
    };

    // ========= Stock + labels + discount chips =========
    const cards = Array.from(document.querySelectorAll(".card"));
    const stockCountEl = document.getElementById("stockCount");

    function refreshComputedUI() {
      let totalAvailable = 0;

      cards.forEach(card => {
        const stock = Number(card.dataset.stock || 0);
        const price = Number(card.dataset.price || 0);
        const oldPrice = Number(card.dataset.oldprice || 0);

        // Sold by stock
        const badgeSold = card.querySelector(".badge--sold");
        const badgeOk = card.querySelector(".badge--ok");
        const btnOpen = card.querySelector(".btn-open");
        const btnDisabled = card.querySelector(".btn--disabled");
        const lastUnit = card.querySelector(".badge--lastunit");

        // discount chip in card
        const chip = card.querySelector("[data-discount]");
        const oldEl = card.querySelector(".price__old");

        // Show discount chip if oldPrice
        const pct = discountPct(price, oldPrice);
        if (pct) {
          chip.textContent = pct;
          chip.hidden = false;
          oldEl.hidden = false;
          oldEl.textContent = formatCRC(oldPrice);
        } else {
          chip.hidden = true;
          if (oldEl) oldEl.hidden = true;
        }

        // Last unit badge if stock==1 and available
        if (lastUnit) lastUnit.hidden = !(stock === 1);

        // Sold if stock == 0
        if (stock <= 0) {
          card.dataset.status = "sold";
          if (badgeSold) badgeSold.hidden = false;
          if (badgeOk) badgeOk.hidden = true;

          if (btnOpen) {
            btnOpen.outerHTML = `<button class="btn btn--disabled btn--full" disabled>No disponible</button>`;
          }
        } else {
          totalAvailable += stock;
          card.dataset.status = "available";
          if (badgeSold) badgeSold.hidden = true;
          if (badgeOk) badgeOk.hidden = false;
        }
      });

      stockCountEl.textContent = totalAvailable;
    }

    refreshComputedUI();

    // ========= Filter =========
    const chips = document.querySelectorAll(".chip");
    chips.forEach(chip => {
      chip.addEventListener("click", () => {
        chips.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");

        const filter = chip.dataset.filter;

        cards.forEach(card => {
          const category = card.dataset.category;
          card.style.display = (filter === "all" || category === filter) ? "" : "none";
        });
      });
    });

    // ========= Modal =========
    const modal = document.getElementById("modal");
    const modalOverlay = document.getElementById("modalOverlay");
    const modalClose = document.getElementById("modalClose");

    const modalImg = document.getElementById("modalImg");
    const modalTitle = document.getElementById("modalTitle");
    const modalDesc = document.getElementById("modalDesc");
    const modalNow = document.getElementById("modalNow");
    const modalOld = document.getElementById("modalOld");
    const modalChip = document.getElementById("modalChip");
    const modalStock = document.getElementById("modalStock");
    const modalWa = document.getElementById("modalWa");

    function openModal(card) {
      const name = card.dataset.name || "";
      const desc = card.dataset.desc || "";
      const img = card.dataset.img || "";
      const price = Number(card.dataset.price || 0);
      const oldPrice = Number(card.dataset.oldprice || 0);
      const stock = Number(card.dataset.stock || 0);

      modalImg.src = img;
      modalImg.alt = name;
      modalTitle.textContent = name;
      modalDesc.textContent = desc;

      modalNow.textContent = formatCRC(price);

      const pct = discountPct(price, oldPrice);
      if (pct) {
        modalOld.textContent = formatCRC(oldPrice);
        modalOld.style.display = "inline-block";
        modalChip.textContent = pct;
        modalChip.style.display = "inline-block";
      } else {
        modalOld.style.display = "none";
        modalChip.style.display = "none";
      }

      if (stock <= 0) {
        modalStock.innerHTML = `<span class="pill pill--sold">Vendido</span>`;
        modalWa.classList.add("is-disabled");
        modalWa.setAttribute("aria-disabled", "true");
        modalWa.href = "#";
      } else {
        const txt = stock === 1 ? "Ãšltima unidad disponible" : `${stock} disponibles`;
        modalStock.innerHTML = `<span class="pill pill--ok">${txt}</span>`;
        modalWa.classList.remove("is-disabled");
        modalWa.removeAttribute("aria-disabled");

        const msg = encodeURIComponent(`Hola, quiero reservar el ${name} (${formatCRC(price)}) de Aura Moda USA.`);
        modalWa.href = `https://wa.me/TU_NUMERO?text=${msg}`;
      }

      modal.classList.add("is-open");
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeModal() {
      modal.classList.remove("is-open");
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }

    document.addEventListener("click", (e) => {
      const btn = e.target.closest(".btn-open");
      if (btn) {
        const card = e.target.closest(".card");
        if (card) openModal(card);
      }
    });

    modalOverlay.addEventListener("click", closeModal);
    modalClose.addEventListener("click", closeModal);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });
  </script>

</body>
</html>
